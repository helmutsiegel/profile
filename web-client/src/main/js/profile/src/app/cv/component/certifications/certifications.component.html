<div class="card-header">
  Certifications
  <edit-pencil *ngIf="editable" (onClick)="editCertifications()" class="float-right"></edit-pencil>
</div>
<div class="card-body">
  <div *ngIf="saveMode" class="row">
    <div class="ml-3 spinner-border" role="status"></div>
    <h2 class="ml-3">Saving...</h2>
  </div>
  <div *ngIf="!saveMode">
    <div *ngIf="!editMode">
      <div class="row">
        <div class="col-3"><b>Name</b></div>
        <div class="col-3"><b>Issued by</b></div>
        <div class="col-3"><b>Issue date</b></div>
        <div class="col-3"><b>Expiration date</b></div>
      </div>
      <div *ngFor="let certificationVO of certifications">
        <div class="row">
          <div class="col-3"><b>{{certificationVO?.name}}</b></div>
          <div class="col-3">{{certificationVO?.issuedBy}}</div>
          <div class="col-3">{{certificationVO.date | date:'dd MMM YYYY'}}</div>
          <div class="col-3">
            {{!certificationVO.expirationDate ? 'No expiration' : certificationVO.date |  date: 'dd MMM YYYY'}}</div>
        </div>
      </div>
    </div>

    <div *ngIf="editMode">
      <div class="row">
        <div class="col-3"><b>Name</b></div>
        <div class="col-3"><b>Issued by</b></div>
        <div class="col-3"><b>Issue date</b></div>
        <div class="col-3"><b>Expiration date</b></div>
      </div>
      <div *ngFor="let certificationVO of certificationsToEdit">
        <div class="row mt-1">
          <div class="col-3">
            <input [(ngModel)]="certificationVO.name" class="form-control"
                   placeholder="Certification name..." type="text"/>
          </div>
          <div class="col-3">
            <input [(ngModel)]="certificationVO.issuedBy" class="form-control"
                   placeholder="Issued by..." type="text"/>
          </div>
          <div class="col-3">
            <input class="form-control" [(ngModel)]="certificationVO.date" style="font-size: small" type="date"/>
          </div>
        </div>
      </div>
      <div class="mt-1 row">
        <div class="col">
          <button class="btn btn-primary" type="button" (click)="addCertification()">Add certification +</button>
        </div>
        <div class="col">
          <div class="float-right">
            <button class="btn btn-dark" type="button" (click)="save()">Save</button>
            <button class="btn btn-outline-dark ml-1" type="button" (click)="reset()">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
