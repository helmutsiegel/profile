<div class="row">
  <div class="col">
    <users-navbar>
    </users-navbar>
  </div>
</div>
<div class="row mt-3" *ngIf="authService.loggedInUserIsOnTheyPage(activatedRoute)">
  <div class="col">
    <button class="btn btn-primary float-right" data-toggle="modal" data-target="#newPostModal">New post +</button>
  </div>
</div>
<div class="mt-3">
  <div *ngIf="posts">
    <div *ngFor="let post of posts" class="mt-2">
      <post-card [title]="post.title"
                 [content]="post.content"
                 [created]="post.dateCreated"
                 (onDelete)="deletePost(post.id)"></post-card>
    </div>
  </div>
</div>
<simple-modal #newPostModal title="New post" modalId="newPostModal" [size]="size.LARGE">
  <form [formGroup]="newPostForm" autocomplete="off"
        novalidate>
    <div class="form-group" [ngClass]="{'error': true}">
      <div class="row">
        <div class="col-3">
          <label for="postTitle">Post title:</label>
        </div>
        <div class="col-7">
          <input formControlName="postTitle"
                 class="form-control" id="postTitle" name="postTitle"
                 placeholder="Title here..." type="text"/>
        </div>
        <div class="col">
          <em *ngIf="true">Required</em>
        </div>
      </div>
      <div class="row mt-1">
        <div class="col-3">
          <label for="postContent">Post content:</label>
        </div>
        <div class="col-7">
          <textarea rows="5" formControlName="postContent"
                    class="form-control" id="postContent" name="postContent"
                    placeholder="Content here..."></textarea>
        </div>
        <div class="col">
          <em *ngIf="true">Required</em>
        </div>
      </div>

      <div class="row mt-1">
        <div class="col-3"></div>
        <div class="col-7">
          <button class="btn btn-primary float-right" type="button"
                  (click)="newPost(newPostForm.value)">Create post
          </button>
        </div>
        <div class="col"></div>
      </div>
    </div>
  </form>
</simple-modal>
